{"mappings":"AAAAA,SAASC,iBAAiB,oBAAoB,WAC5C,IAAMC,EAAWF,SAASG,cAAc,aAClCC,EAAcJ,SAASG,cAAc,kBACrCE,EAAUL,SAASG,cAAc,UACjCG,EAAeN,SAASO,iBAAiB,UAC3CC,GAAS,EACTC,EAAQC,MAAMC,KAAKL,GAAcM,UAGA,SAA5BC,EAAeC,GACtBN,EAASM,EACTZ,EAASa,UAAUC,OAAO,OAAQR,GAClCN,EAASa,UAAUC,OAAO,UAAWR,GACrCH,EAAQY,MAAMC,IAAMV,EAAS,MAAQ,M,CAISJ,EAApCH,iBAAiB,SAAS,WACpCY,GAAgBL,E,IAIgBR,SAAzBC,iBAAiB,cAAc,SAAUkB,GAChD,IAAMC,EAASD,EAAME,QAAQ,GAAGC,QAoBhCtB,SAASC,iBAAiB,YAlB1B,SAASsB,EAAWC,GAClB,IAAMC,EAAOD,EAAEE,eAAe,GAAGJ,QAC7BG,EAAOL,EAAS,IAEgCd,EAArCqB,SAAQ,SAAAC,GACnBA,EAAKX,MAAMY,WAAa,gBACxBD,EAAKX,MAAMC,IAAM,K,IAEnBY,YAAW,WACTrB,EAAMkB,SAAQ,SAAAC,G,OAAQvB,EAAQ0B,YAAYH,E,IAC1Cf,GAAe,E,GACd,MACMO,EAASK,EAAO,IAEAZ,GAAV,GAEjBb,SAASgC,oBAAoB,WAAYT,E,OAMbvB,SAAvBO,iBAAiB,cAAcoB,SAAQ,SAAAM,GAC9CA,EAAIC,YAAc,SAAUC,GAC1BA,EAAEC,iBAEF,IAAIC,EAASF,EAAEG,QAAUL,EAAIM,wBAAwBC,KACjDC,EAASN,EAAEb,QAAUW,EAAIM,wBAAwBrB,IAMrD,SAASwB,EAAOC,EAAOC,GACrBX,EAAIhB,MAAMuB,KAAOG,EAAQN,EAAS,KAClCJ,EAAIhB,MAAMC,IAAM0B,EAAQH,EAAS,I,CAKnC,SAASI,EAAYrB,GACnBkB,EAAOlB,EAAEmB,MAAOnB,EAAEoB,M,CAZpBX,EAAIhB,MAAM6B,SAAW,WACrBb,EAAIhB,MAAM8B,OAAS,IACnB/C,SAASgD,KAAKjB,YAAYE,GAO1BS,EAAOP,EAAEQ,MAAOR,EAAES,OAMlB5C,SAASC,iBAAiB,YAAa4C,GAOvC7C,SAASC,iBAAiB,WAL1B,SAASgD,IACPjD,SAASgC,oBAAoB,YAAaa,GAC1C7C,SAASgC,oBAAoB,UAAWiB,E,KAM5ChB,EAAIiB,YAAc,WAChB,OAAO,C","sources":["src/envelope/script.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', function () {\n  const envelope = document.querySelector('.envelope');\n  const envelopeTop = document.querySelector('.envelope__top');\n  const content = document.querySelector('.items');\n  const contentItems = document.querySelectorAll('.photo');\n  let isOpen = false;\n  let stack = Array.from(contentItems).reverse(); // Стек для витягування вмісту\n\n  // Функція для відкриття та закриття конверта\n  function toggleEnvelope(open) {\n    isOpen = open;\n    envelope.classList.toggle('open', isOpen);\n    envelope.classList.toggle('closed', !isOpen);\n    content.style.top = isOpen ? '80%' : '100%';\n  }\n\n  // Клік на верхню частину конверта відкриває/закриває його\n  envelopeTop.addEventListener('click', () => {\n    toggleEnvelope(!isOpen);\n  });\n\n  // Обробка свайпів для відкриття/закриття\n  document.addEventListener('touchstart', function (event) {\n    const startY = event.touches[0].clientY;\n\n    function onSwipeEnd(e) {\n      const endY = e.changedTouches[0].clientY;\n      if (endY - startY > 50) {\n        // Свайп вниз - повернути всі витягнуті фото та закрити конверт\n        contentItems.forEach(item => {\n          item.style.transition = 'top 0.5s ease';\n          item.style.top = '0px';\n        });\n        setTimeout(() => {\n          stack.forEach(item => content.appendChild(item));\n          toggleEnvelope(false);\n        }, 500);\n      } else if (startY - endY > 50) {\n        // Свайп вгору - відкрити конверт\n        toggleEnvelope(true);\n      }\n      document.removeEventListener('touchend', onSwipeEnd);\n    }\n    document.addEventListener('touchend', onSwipeEnd);\n  });\n\n  // Додаємо обробники для перетягування\n  document.querySelectorAll('.photo img').forEach(img => {\n    img.onmousedown = function (e) {\n      e.preventDefault(); // Запобігаємо стандартному drag&drop\n\n      var shiftX = e.clientX - img.getBoundingClientRect().left;\n      var shiftY = e.clientY - img.getBoundingClientRect().top;\n\n      img.style.position = 'absolute';\n      img.style.zIndex = 1000;\n      document.body.appendChild(img);\n\n      function moveAt(pageX, pageY) {\n        img.style.left = pageX - shiftX + 'px';\n        img.style.top = pageY - shiftY + 'px';\n      }\n\n      moveAt(e.pageX, e.pageY);\n\n      function onMouseMove(e) {\n        moveAt(e.pageX, e.pageY);\n      }\n\n      document.addEventListener('mousemove', onMouseMove);\n\n      function stopMoving() {\n        document.removeEventListener('mousemove', onMouseMove);\n        document.removeEventListener('mouseup', stopMoving);\n      }\n\n      document.addEventListener('mouseup', stopMoving);\n    };\n\n    img.ondragstart = function () {\n      return false;\n    };\n  });\n});\n"],"names":["document","addEventListener","envelope","querySelector","envelopeTop","content","contentItems","querySelectorAll","isOpen","stack","Array","from","reverse","toggleEnvelope","open","classList","toggle","style","top","event","startY","touches","clientY","onSwipeEnd","e","endY","changedTouches","forEach","item","transition","setTimeout","appendChild","removeEventListener","img","onmousedown","e1","preventDefault","shiftX","clientX","getBoundingClientRect","left","shiftY","moveAt","pageX","pageY","onMouseMove","position","zIndex","body","stopMoving","ondragstart"],"version":3,"file":"index.a65ef7e0.js.map"}