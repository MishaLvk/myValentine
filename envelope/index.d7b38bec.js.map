{"mappings":"AAAAA,SAASC,iBAAiB,oBAAoB,WAC5C,IAAMC,EAAWF,SAASG,cAAc,aAClCC,EAAcJ,SAASG,cAAc,kBACrCE,EAAUL,SAASG,cAAc,UACjCG,EAAeN,SAASO,iBAAiB,UAC3CC,GAAS,EACTC,EAAQC,MAAMC,KAAKL,GAAcM,UAErC,SAASC,EAAeC,GACtBN,EAASM,EACTZ,EAASa,UAAUC,OAAO,OAAQR,GAClCN,EAASa,UAAUC,OAAO,UAAWR,GACrCH,EAAQY,MAAMC,IAAMV,EAAS,MAAQ,OAEhCA,GACHW,YAAW,WACTV,EAAMW,SAAQ,SAAAC,GACZhB,EAAQiB,YAAYD,GACpBA,EAAKJ,MAAMM,SAAW,GACtBF,EAAKJ,MAAMO,KAAO,GAClBH,EAAKJ,MAAMC,IAAM,E,MAElB,I,CAIPd,EAAYH,iBAAiB,SAAS,WACpCY,GAAgBL,E,IAGlBR,SAASC,iBAAiB,cAAc,SAAUwB,GAChD,IAAMC,EAASD,EAAME,QAAQ,GAAGC,QAWhC5B,SAASC,iBAAiB,YAT1B,SAAS4B,EAAWC,GAClB,IAAMC,EAAOD,EAAEE,eAAe,GAAGJ,QAC7BG,EAAOL,EAAS,GAClBb,GAAe,GACNa,EAASK,EAAO,IACzBlB,GAAe,GAEjBb,SAASiC,oBAAoB,WAAYJ,E,OAK7C7B,SAASO,iBAAiB,cAAca,SAAQ,SAAAc,GAC9CA,EAAIjC,iBAAiB,cAAc,SAAUkC,GAC3CA,EAAEC,iBACF,IAAIC,EAAQF,EAAER,QAAQ,GAClBW,EAASD,EAAME,QAAUL,EAAIM,wBAAwBhB,KACrDiB,EAASJ,EAAMT,QAAUM,EAAIM,wBAAwBtB,IAWzD,SAASwB,EAAYZ,GACnB,IANca,EAAOC,EAMjBC,EAAQf,EAAEH,QAAQ,GANRgB,EAOPE,EAAMF,MAPQC,EAODC,EAAMD,MAN1BV,EAAIjB,MAAMO,KAAOmB,EAAQL,EAAS,KAClCJ,EAAIjB,MAAMC,IAAM0B,EAAQH,EAAS,I,CANnCP,EAAIjB,MAAMM,SAAW,WACrBW,EAAIjB,MAAM6B,OAAS,IACnB9C,SAAS+C,KAAKzB,YAAYY,GAY1BlC,SAASC,iBAAiB,YAAayC,GAOvC1C,SAASC,iBAAiB,YAL1B,SAAS+C,IACPhD,SAASiC,oBAAoB,YAAaS,GAC1C1C,SAASiC,oBAAoB,WAAYe,E,UAO/ChD,SAASO,iBAAiB,cAAca,SAAQ,SAAAc,GAC9CA,EAAIe,YAAc,SAAUC,GAC1BA,EAAEd,iBACF,IAAIE,EAASY,EAAEX,QAAUL,EAAIM,wBAAwBhB,KACjDiB,EAASS,EAAEtB,QAAUM,EAAIM,wBAAwBtB,IAMrD,SAASiC,EAAOR,EAAOC,GACrBV,EAAIjB,MAAMO,KAAOmB,EAAQL,EAAS,KAClCJ,EAAIjB,MAAMC,IAAM0B,EAAQH,EAAS,I,CAKnC,SAASW,EAAYtB,GACnBqB,EAAOrB,EAAEa,MAAOb,EAAEc,M,CAZpBV,EAAIjB,MAAMM,SAAW,WACrBW,EAAIjB,MAAM6B,OAAS,IACnB9C,SAAS+C,KAAKzB,YAAYY,GAO1BiB,EAAOD,EAAEP,MAAOO,EAAEN,OAMlB5C,SAASC,iBAAiB,YAAamD,GAOvCpD,SAASC,iBAAiB,WAL1B,SAAS+C,IACPhD,SAASiC,oBAAoB,YAAamB,GAC1CpD,SAASiC,oBAAoB,UAAWe,E,KAM5Cd,EAAImB,YAAc,WAChB,OAAO,C","sources":["src/envelope/script.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', function () {\n  const envelope = document.querySelector('.envelope');\n  const envelopeTop = document.querySelector('.envelope__top');\n  const content = document.querySelector('.items');\n  const contentItems = document.querySelectorAll('.photo');\n  let isOpen = false;\n  let stack = Array.from(contentItems).reverse(); // Стек для витягування вмісту\n\n  function toggleEnvelope(open) {\n    isOpen = open;\n    envelope.classList.toggle('open', isOpen);\n    envelope.classList.toggle('closed', !isOpen);\n    content.style.top = isOpen ? '80%' : '100%';\n\n    if (!isOpen) {\n      setTimeout(() => {\n        stack.forEach(item => {\n          content.appendChild(item);\n          item.style.position = '';\n          item.style.left = '';\n          item.style.top = '';\n        });\n      }, 300);\n    }\n  }\n\n  envelopeTop.addEventListener('click', () => {\n    toggleEnvelope(!isOpen);\n  });\n\n  document.addEventListener('touchstart', function (event) {\n    const startY = event.touches[0].clientY;\n\n    function onSwipeEnd(e) {\n      const endY = e.changedTouches[0].clientY;\n      if (endY - startY > 50) {\n        toggleEnvelope(false);\n      } else if (startY - endY > 50) {\n        toggleEnvelope(true);\n      }\n      document.removeEventListener('touchend', onSwipeEnd);\n    }\n    document.addEventListener('touchend', onSwipeEnd);\n  });\n\n  document.querySelectorAll('.photo img').forEach(img => {\n    img.addEventListener('touchstart', function (e) {\n      e.preventDefault();\n      let touch = e.touches[0];\n      let shiftX = touch.clientX - img.getBoundingClientRect().left;\n      let shiftY = touch.clientY - img.getBoundingClientRect().top;\n\n      img.style.position = 'absolute';\n      img.style.zIndex = 1000;\n      document.body.appendChild(img);\n\n      function moveAt(pageX, pageY) {\n        img.style.left = pageX - shiftX + 'px';\n        img.style.top = pageY - shiftY + 'px';\n      }\n\n      function onTouchMove(e) {\n        let touch = e.touches[0];\n        moveAt(touch.pageX, touch.pageY);\n      }\n\n      document.addEventListener('touchmove', onTouchMove);\n\n      function stopMoving() {\n        document.removeEventListener('touchmove', onTouchMove);\n        document.removeEventListener('touchend', stopMoving);\n      }\n\n      document.addEventListener('touchend', stopMoving);\n    });\n  });\n\n  document.querySelectorAll('.photo img').forEach(img => {\n    img.onmousedown = function (e) {\n      e.preventDefault();\n      var shiftX = e.clientX - img.getBoundingClientRect().left;\n      var shiftY = e.clientY - img.getBoundingClientRect().top;\n\n      img.style.position = 'absolute';\n      img.style.zIndex = 1000;\n      document.body.appendChild(img);\n\n      function moveAt(pageX, pageY) {\n        img.style.left = pageX - shiftX + 'px';\n        img.style.top = pageY - shiftY + 'px';\n      }\n\n      moveAt(e.pageX, e.pageY);\n\n      function onMouseMove(e) {\n        moveAt(e.pageX, e.pageY);\n      }\n\n      document.addEventListener('mousemove', onMouseMove);\n\n      function stopMoving() {\n        document.removeEventListener('mousemove', onMouseMove);\n        document.removeEventListener('mouseup', stopMoving);\n      }\n\n      document.addEventListener('mouseup', stopMoving);\n    };\n\n    img.ondragstart = function () {\n      return false;\n    };\n  });\n});\n"],"names":["document","addEventListener","envelope","querySelector","envelopeTop","content","contentItems","querySelectorAll","isOpen","stack","Array","from","reverse","toggleEnvelope","open","classList","toggle","style","top","setTimeout","forEach","item","appendChild","position","left","event","startY","touches","clientY","onSwipeEnd","e","endY","changedTouches","removeEventListener","img","e1","preventDefault","touch1","shiftX","clientX","getBoundingClientRect","shiftY","onTouchMove","pageX","pageY","touch","zIndex","body","stopMoving","onmousedown","e2","moveAt","onMouseMove","ondragstart"],"version":3,"file":"index.d7b38bec.js.map"}