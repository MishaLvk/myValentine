{"mappings":"AAAAA,SAASC,iBAAiB,oBAAoB,WAC5C,IAAMC,EAAWF,SAASG,cAAc,aAClCC,EAAcJ,SAASG,cAAc,kBAErCE,GADUL,SAASG,cAAc,UAClBH,SAASM,iBAAiB,WACzCC,EAAWP,SAASG,cAAc,aACpCK,GAAS,EAEb,SAASC,EAAeC,GAwCxB,IACQC,EACAC,EAzCNJ,EAASE,EACTR,EAASW,UAAUC,OAAO,OAAQN,GAClCN,EAASW,UAAUC,OAAO,UAAWN,GAEjCA,GACFN,EAASa,MAAMC,UAAY,mBACFT,EAAhBQ,MAAME,WAAa,0BAC5BV,EAASQ,MAAMC,UAAY,oBAiCvBL,EAAcO,OAAOC,WACrBP,EAAeM,OAAOE,YAE5Bf,EAAagB,SAAQ,SAACC,EAAOC,GAC3B,IAAIC,EAAwB,GAAhBC,KAAKC,SAAgB,GAAK,MAClCC,EAAIF,KAAKC,UAA0B,GAAdf,GAAmC,GAAdA,EAAoB,KAC9DiB,GAAKH,KAAKC,UAA2B,GAAfd,GAAqC,GAAfA,EAAqB,KACrEU,EAAMP,MAAME,WACV,iEACFK,EAAMP,MAAMC,UAAY,aAAmBa,OAANF,EAAE,MAAiBE,OAAbD,EAAE,aAAiBC,OAANL,EAAM,I,MAvC9DjB,EAASQ,MAAME,WAAa,uBAC5BV,EAASQ,MAAMC,UAAY,mBACDc,YAAf,WACT5B,EAASa,MAAME,WAAa,0BAC5Bf,EAASa,MAAMC,UAAY,gBAwC/BX,EAAagB,SAAQ,SAAAC,GACnBA,EAAMP,MAAME,WAAa,yBACzBK,EAAMP,MAAMC,UAAY,8B,MAxCrB,K,CAIPZ,EAAYH,iBAAiB,SAAS,WACpCQ,GAAgBD,E,IAGlBR,SAASC,iBAAiB,cAAc,SAAU8B,GAChD,IAAMC,EAASD,EAAME,QAAQ,GAAGC,QAWhClC,SAASC,iBAAiB,YAT1B,SAASkC,EAAWC,GAClB,IAAMC,EAAOD,EAAEE,eAAe,GAAGJ,QAC7BG,EAAOL,EAAS,GAClBvB,GAAe,GACNuB,EAASK,EAAO,IACzB5B,GAAe,GAEjBT,SAASuC,oBAAoB,WAAYJ,E","sources":["src/envelope/script.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', function () {\n  const envelope = document.querySelector('.envelope');\n  const envelopeTop = document.querySelector('.envelope__top');\n  const content = document.querySelector('.items');\n  const contentItems = document.querySelectorAll('.photo');\n  const postcard = document.querySelector('.postcard'); // Додаємо відкритку\n  let isOpen = false;\n\n  function toggleEnvelope(open) {\n    isOpen = open;\n    envelope.classList.toggle('open', isOpen);\n    envelope.classList.toggle('closed', !isOpen);\n\n    if (isOpen) {\n      envelope.style.transform = 'translateY(50px)'; // Опускаємо конверт трохи вниз\n      postcard.style.transition = 'transform 1.5s ease-out';\n      postcard.style.transform = 'translateY(-60px)'; // Відкритка трохи висовується\n      releasePhotos();\n    } else {\n      postcard.style.transition = 'transform 1s ease-in';\n      postcard.style.transform = 'translateY(-8px)'; // Відкритка повертається назад\n      setTimeout(() => {\n        envelope.style.transition = 'transform 2.5s ease-out';\n        envelope.style.transform = 'translateY(0)';\n        collectPhotos();\n      }, 500); // Затримка перед закриттям конверта\n    }\n  }\n\n  envelopeTop.addEventListener('click', () => {\n    toggleEnvelope(!isOpen);\n  });\n\n  document.addEventListener('touchstart', function (event) {\n    const startY = event.touches[0].clientY;\n\n    function onSwipeEnd(e) {\n      const endY = e.changedTouches[0].clientY;\n      if (endY - startY > 50) {\n        toggleEnvelope(false);\n      } else if (startY - endY > 50) {\n        toggleEnvelope(true);\n      }\n      document.removeEventListener('touchend', onSwipeEnd);\n    }\n    document.addEventListener('touchend', onSwipeEnd);\n  });\n\n  function releasePhotos() {\n    const screenWidth = window.innerWidth;\n    const screenHeight = window.innerHeight;\n\n    contentItems.forEach((photo, index) => {\n      let angle = Math.random() * 90 - 20 + 'deg';\n      let x = Math.random() * (screenWidth * 0.6) - screenWidth * 0.3 + 'px'; // Обмеження в межах екрану\n      let y = -Math.random() * (screenHeight * 0.4) - screenHeight * 0.2 + 'px'; // Виліт тільки вгору\n      photo.style.transition =\n        'transform 0.7s ease-out, top 0.7s ease-out, left 0.7s ease-out';\n      photo.style.transform = `translate(${x}, ${y}) rotate(${angle})`;\n    });\n  }\n\n  function collectPhotos() {\n    contentItems.forEach(photo => {\n      photo.style.transition = 'transform 0.7s ease-in';\n      photo.style.transform = 'translate(0, 10px) rotate(0)';\n    });\n  }\n});\n"],"names":["document","addEventListener","envelope","querySelector","envelopeTop","contentItems","querySelectorAll","postcard","isOpen","toggleEnvelope","open","screenWidth","screenHeight","classList","toggle","style","transform","transition","window","innerWidth","innerHeight","forEach","photo","index","angle","Math","random","x","y","concat","setTimeout","event","startY","touches","clientY","onSwipeEnd","e","endY","changedTouches","removeEventListener"],"version":3,"file":"index.889c6aae.js.map"}